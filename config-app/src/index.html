<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Super OpenCode</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Update Banner -->
    <div id="update-banner" class="update-banner hidden">
        <div class="update-content">
            <span class="update-icon">🚀</span>
            <span class="update-text">发现新版本 <span id="update-version"></span></span>
            <div class="update-actions">
                <button id="btn-download-update" class="btn btn-sm btn-primary" onclick="downloadUpdate()">下载更新</button>
                <button class="btn btn-sm btn-ghost" onclick="dismissUpdate()">稍后</button>
            </div>
        </div>
        <div id="update-progress" class="update-progress hidden">
            <div class="progress-bar">
                <div id="progress-fill" class="progress-fill"></div>
            </div>
            <span id="progress-text" class="progress-text">0%</span>
        </div>
    </div>

    <!-- Update Ready Modal -->
    <div id="update-ready-modal" class="modal hidden">
        <div class="modal-backdrop" onclick="closeUpdateModal()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>更新已就绪</h3>
            </div>
            <div class="modal-body">
                <p>新版本 <span id="ready-version"></span> 已下载完成。</p>
                <p class="text-muted">重启应用以完成更新。</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-ghost" onclick="closeUpdateModal()">稍后</button>
                <button class="btn btn-primary" onclick="installUpdate()">立即重启</button>
            </div>
        </div>
    </div>

    <div id="app">
        <!-- Wizard View -->
        <div id="wizard-view" class="hidden">
            <div class="wizard-progress" id="wizard-dots">
                <!-- Dots injected by JS -->
            </div>
            
            <!-- Step 1: Install OpenCode -->
            <div id="step-1" class="step-container hidden">
                <div class="text-center">
                    <div class="text-xl mb-4">安装 OpenCode</div>
                    <p class="text-muted mb-6">Oh My OpenCode 需要依赖 OpenCode 核心环境运行。</p>
                    <div class="flex justify-center gap-4 mb-6">
                        <button class="btn btn-secondary" onclick="window.api.openExternal('https://opencode.ai')">访问官网</button>
                        <button id="btn-install-opencode" class="btn btn-primary" onclick="installOpencode()">一键安装</button>
                    </div>
                    <div class="checkbox-wrapper justify-center mt-4">
                        <input type="checkbox" id="check-opencode" class="checkbox" onchange="toggleNextBtn(this.checked)">
                        <label for="check-opencode">我已安装 OpenCode</label>
                    </div>
                </div>
            </div>

            <!-- Step 2: Install Oh-My-OpenCode -->
            <div id="step-2" class="step-container hidden">
                <div class="text-center">
                    <div class="text-xl mb-4">安装 Oh-My-OpenCode</div>
                    <p class="text-muted">请在终端执行以下命令：</p>
                    <div class="code-block">
                        <span id="install-cmd">git clone https://github.com/anthropics/oh-my-opencode ~/.opencode/oh-my-opencode</span>
                        <button class="btn-icon" onclick="copyCommand()"><svg class="icon" viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg></button>
                    </div>
                    <div class="flex justify-center mt-4 mb-2">
                        <button id="btn-install-omo" class="btn btn-primary" onclick="installOhMyOpencode()">一键安装 Oh-My-OpenCode</button>
                    </div>
                    <div class="checkbox-wrapper justify-center mt-6">
                        <input type="checkbox" id="check-omo" class="checkbox" onchange="toggleNextBtn(this.checked)">
                        <label for="check-omo">我已执行上述命令</label>
                    </div>
                </div>
            </div>

            <!-- Step 3: Tech Stack -->
            <div id="step-3" class="step-container hidden">
                <div class="text-xl mb-6 text-center">选择技术栈</div>
                
                <div class="mb-6">
                    <div class="form-label mb-2">前端框架</div>
                    <div class="grid-4" id="wizard-frontend-options"></div>
                </div>

                <div class="mb-6">
                    <div class="form-label mb-2">后端语言</div>
                    <div class="grid-4" id="wizard-backend-options"></div>
                </div>
            </div>

            <!-- Step 4: Design Style -->
            <div id="step-4" class="step-container hidden">
                <div class="text-xl mb-6 text-center">选择设计风格</div>
                
                <div class="mb-6">
                    <div class="form-label mb-2">设计风格</div>
                    <div class="grid-4" id="wizard-style-options"></div>
                </div>
            </div>

            <!-- Step 5: API Config -->
            <div id="step-5" class="step-container hidden">
                <div class="text-xl mb-6 text-center">连接 AI 模型</div>
                <div class="text-muted text-sm text-center mb-4">填写你的 API 信息，或跳过此步稍后在「账号与套餐」中使用托管服务</div>
                <div class="form-group">
                    <label class="form-label">服务名称</label>
                    <input type="text" class="input" id="wiz-proxy-name" placeholder="例如: My GPT-4">
                </div>
                <div class="form-group">
                    <label class="form-label">接口类型</label>
                    <select class="select" id="wiz-api-format">
                        <option value="openai">OpenAI 格式</option>
                        <option value="anthropic">Anthropic 格式</option>
                        <option value="gemini">Gemini 格式</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">API 地址</label>
                    <input type="text" class="input" id="wiz-base-url" placeholder="https://api.openai.com/v1">
                </div>
                <div class="form-group">
                    <label class="form-label">API Key</label>
                    <input type="password" class="input" id="wiz-api-key" placeholder="sk-...">
                </div>
            </div>

            <!-- Wizard Navigation -->
            <div class="flex justify-between w-full mt-8" style="max-width: 600px;">
                <button class="btn btn-secondary" id="btn-prev" onclick="prevStep()">上一步</button>
                <button class="btn btn-primary" id="btn-next" onclick="nextStep()">下一步</button>
            </div>
        </div>

        <!-- Dashboard View -->
        <div id="dashboard-view" class="hidden">
            <div class="dashboard-header">
                <div class="flex items-center gap-2">
                    <span class="brand-logo brand-logo-sm"><span class="eye-blink"><span class="eye-open">o</span><span class="eye-shut">&gt;</span></span>_o</span>
                    <h1 style="margin-left: 4px;">Super OpenCode</h1>
                </div>
                <div class="header-actions">
                    <button class="btn btn-ghost btn-icon" onclick="openConfigDir()" title="打开配置目录">
                        <svg class="icon" viewBox="0 0 24 24"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/></svg>
                    </button>
                    <button class="btn btn-ghost btn-icon" onclick="resetToWizard()" title="重新引导" style="color: var(--danger);">
                        <svg class="icon" viewBox="0 0 24 24"><polyline points="23 4 23 10 17 10"/><polyline points="1 20 1 14 7 14"/><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/></svg>
                    </button>
                </div>
            </div>
            
            <div class="dashboard-body">
                <div class="sidebar">
                    <div class="nav-group">
                        <div class="nav-group-title">开始</div>
                        <div class="nav-item active" onclick="switchTab(13)" id="nav-13">
                            <span class="nav-item-icon"><svg class="icon" viewBox="0 0 24 24"><polyline points="4 17 10 11 4 5"/><line x1="12" y1="19" x2="20" y2="19"/></svg></span> 启动会话
                        </div>

                    </div>
                    
                    <div class="nav-group">
                        <div class="nav-group-title">AI 服务</div>
                        <div class="nav-item" onclick="switchTab(11)" id="nav-11">
                            <span class="nav-item-icon"><svg class="icon" viewBox="0 0 24 24"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg></span> 账号与套餐
                        </div>
                        <div class="nav-item" onclick="switchTab(2)" id="nav-2">
                            <span class="nav-item-icon"><svg class="icon" viewBox="0 0 24 24"><rect x="4" y="4" width="16" height="16" rx="2" ry="2"/><rect x="9" y="9" width="6" height="6"/><line x1="9" y1="1" x2="9" y2="4"/><line x1="15" y1="1" x2="15" y2="4"/><line x1="9" y1="20" x2="9" y2="23"/><line x1="15" y1="20" x2="15" y2="23"/><line x1="20" y1="9" x2="23" y2="9"/><line x1="20" y1="14" x2="23" y2="14"/><line x1="1" y1="9" x2="4" y2="9"/><line x1="1" y1="14" x2="4" y2="14"/></svg></span> 模型接入
                        </div>
                        <div class="nav-item" onclick="switchTab(9)" id="nav-9">
                            <span class="nav-item-icon"><svg class="icon" viewBox="0 0 24 24"><path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"/></svg></span> 角色与分工
                        </div>
                    </div>
                    
                    <div class="nav-group">
                        <div class="nav-group-title">工具箱</div>
                        <div class="nav-item" onclick="switchTab(3)" id="nav-3">
                            <span class="nav-item-icon"><svg class="icon" viewBox="0 0 24 24"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 0 1-3.46 0"/></svg></span> 消息通知
                        </div>
                        <div class="nav-item" onclick="switchTab(4)" id="nav-4">
                            <span class="nav-item-icon"><svg class="icon" viewBox="0 0 24 24"><ellipse cx="12" cy="5" rx="9" ry="3"/><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"/><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"/></svg></span> 数据库
                        </div>
                        <div class="nav-item" onclick="switchTab(5)" id="nav-5">
                            <span class="nav-item-icon"><svg class="icon" viewBox="0 0 24 24"><path d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.48-.56.93-1.23 1.35-2h-4.35z"/><path d="M9.85 14.85l-4.35 4.35"/><path d="M12 2l3 3 7 7-3 3-7-7-3-3z"/></svg></span> 云部署
                        </div>
                        <div class="nav-item" onclick="switchTab(12)" id="nav-12">
                            <span class="nav-item-icon"><svg class="icon" viewBox="0 0 24 24"><path d="M12 2a2 2 0 0 1 2 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 0 1 7 7h1a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v1a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-1H2a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h1a7 7 0 0 1 7-7V5.73c-.6-.34-1-.99-1-1.73a2 2 0 0 1 2-2zM4.5 11A5.5 5.5 0 0 0 10 16.5V18H6v2h12v-2h-4v-1.5a5.5 5.5 0 0 0 5.5-5.5H18v-2h-2v2H8v-2H6v2H4.5zM15 13a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm-6 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/></svg></span> 飞书机器人
                        </div>
                        <div class="nav-item" onclick="switchTab(8)" id="nav-8">
                            <span class="nav-item-icon"><svg class="icon" viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg></span> 生图服务
                        </div>
                    </div>
                    
                    <div class="nav-group">
                        <div class="nav-group-title">偏好</div>
                        <div class="nav-item" onclick="switchTab(6)" id="nav-6">
                            <span class="nav-item-icon"><svg class="icon" viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg></span> 全局指令
                        </div>
                        <div class="nav-item" onclick="switchTab(0)" id="nav-0">
                            <span class="nav-item-icon"><svg class="icon" viewBox="0 0 24 24"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg></span> 外观与风格
                        </div>
                        <div class="nav-item" onclick="switchTab(10)" id="nav-10">
                            <span class="nav-item-icon"><svg class="icon" viewBox="0 0 24 24"><path d="M3 2v6h6"/><path d="M21 12A9 9 0 0 0 6 5.3L3 8"/><path d="M21 22v-6h-6"/><path d="M3 12a9 9 0 0 0 15 6.7l3-2.7"/></svg></span> 备份与恢复
                        </div>
                    </div>
                </div>
                
                <div class="content-area">
                    <!-- Tab 0: Tech Stack -->
                    <div id="tab-0" class="tab-content hidden">
                        <div class="page-header">
                            <h2 class="page-title">外观与风格</h2>
                            <p class="page-desc">选择你偏好的技术栈和设计风格，AI 生成代码时会参考这些偏好</p>
                        </div>
                        <div style="display: flex; gap: 0; margin-bottom: 16px; border-bottom: 1px solid var(--border);">
                            <button id="appear-tab-stack" class="appear-tab active" onclick="switchAppearTab('stack')" style="padding: 10px 24px; background: none; border: none; border-bottom: 2px solid var(--accent); color: var(--text-primary); font-weight: 500; cursor: pointer;">技术栈</button>
                            <button id="appear-tab-style" class="appear-tab" onclick="switchAppearTab('style')" style="padding: 10px 24px; background: none; border: none; border-bottom: 2px solid transparent; color: var(--text-muted); font-weight: 500; cursor: pointer;">设计风格</button>
                        </div>
                        <div id="appear-panel-stack">
                            <div class="section">
                                <h3 class="section-title">前端框架</h3>
                                <div class="grid-4" id="dash-frontend-options"></div>
                            </div>
                            <div class="section">
                                <h3 class="section-title">后端语言</h3>
                                <div class="grid-4" id="dash-backend-options"></div>
                            </div>
                            <button class="btn btn-primary" onclick="saveTab('stack')">保存技术栈</button>
                        </div>
                        <div id="appear-panel-style" style="display: none;">
                            <div class="section">
                                <div class="grid-4 mb-6" id="dash-style-options"></div>
                            </div>
                            <button class="btn btn-primary" onclick="saveTab('style')">保存设计风格</button>
                        </div>
                    </div>

                    <!-- Tab 1: Design Style -->
                    <div id="tab-1" class="tab-content hidden">
                        <div class="page-header">
                            <h2 class="page-title">设计风格</h2>
                            <p class="page-desc">选择您偏好的 UI 设计风格，Agent 将据此生成代码</p>
                        </div>
                        <div class="grid-4 mb-6" id="dash-style-options"></div>
                        <button class="btn btn-primary" onclick="saveTab('style')">保存配置</button>
                    </div>

                    <!-- Tab 2: Model Service -->
                    <div id="tab-2" class="tab-content hidden">
                        <div class="page-header">
                            <h2 class="page-title">模型接入</h2>
                            <p class="page-desc">添加你的 AI 模型服务商（如 OpenAI、Anthropic），或使用托管服务</p>
                        </div>
                        
                        <div id="provider-list-view">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>名称</th>
                                        <th>类型</th>
                                        <th>模型</th>
                                        <th style="text-align: right;">操作</th>
                                    </tr>
                                </thead>
                                <tbody id="provider-table-body"></tbody>
                            </table>
                            <button class="btn btn-secondary mt-4" onclick="addProvider()">+ 添加模型服务</button>
                        </div>
                        
                        <div id="provider-edit-view" class="hidden"></div>
                        <div id="model-list-view" class="hidden"></div>
                    </div>

                    <!-- Tab 3: Webhook -->
                    <div id="tab-3" class="tab-content hidden">
                        <div class="page-header">
                            <h2 class="page-title">消息通知</h2>
                            <p class="page-desc">AI 工作时遇到需要你确认的操作，会通过飞书/钉钉/Slack 通知你</p>
                        </div>
                        <div class="form-group">
                            <label class="form-label">通知渠道</label>
                            <select class="select" id="webhook-type">
                                <option value="feishu">飞书 (Feishu)</option>
                                <option value="dingtalk">钉钉 (DingTalk)</option>
                                <option value="slack">Slack</option>
                                <option value="custom">自定义 (Custom)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">通知地址</label>
                            <input type="text" class="input" id="webhook-url" placeholder="https://open.feishu.cn/open-apis/bot/v2/hook/...">
                            <p class="form-hint">在飞书/钉钉/Slack 中创建机器人，复制 Webhook 地址粘贴到这里</p>
                        </div>
                        <div class="mb-6">
                            <p class="form-label" style="margin-bottom: 12px;">通知场景</p>
                            <div class="checkbox-wrapper mb-2">
                                <input type="checkbox" id="notify-permission" class="checkbox">
                                <label for="notify-permission">需要我确认操作时通知我（推荐）</label>
                            </div>
                            <div class="checkbox-wrapper mb-2">
                                <input type="checkbox" id="notify-idle" class="checkbox">
                                <label for="notify-idle">任务做完了通知我</label>
                            </div>
                            <div class="checkbox-wrapper">
                                <input type="checkbox" id="notify-error" class="checkbox">
                                <label for="notify-error">出错了通知我</label>
                            </div>
                        </div>
                        <div class="flex gap-3">
                            <button class="btn btn-primary" onclick="saveWebhookConfig()">保存配置</button>
                            <button class="btn btn-secondary" onclick="testWebhook()">测试通知</button>
                        </div>
                        <div id="webhook-status" class="mt-4" style="display: none;"></div>
                    </div>

                    <!-- Tab 4: Database -->
                    <div id="tab-4" class="tab-content hidden">
                        <div class="page-header">
                            <h2 class="page-title">数据库</h2>
                            <p class="page-desc">连接你的数据库，AI 就能直接查询数据来辅助开发</p>
                        </div>
                        <div id="sql-skill-status" class="mb-4" style="padding: var(--space-3) var(--space-4); border-radius: var(--radius-md); background: var(--bg-secondary);"></div>
                        <div id="db-connections-list"></div>
                        <button class="btn btn-secondary mt-4" onclick="addDbConnection()">+ 添加连接</button>
                        <div class="mt-4">
                            <button class="btn btn-primary" onclick="saveSqlConfig()">保存配置</button>
                        </div>
                    </div>

                    <!-- Tab 5: Deploy -->
                    <div id="tab-5" class="tab-content hidden">
                        <div class="page-header">
                            <h2 class="page-title">云部署</h2>
                            <p class="page-desc">配置好部署信息后，AI 可以帮你一键部署到云端</p>
                        </div>

                        <!-- Sub-nav for Deploy Types -->
                        <div style="display: flex; gap: 8px; margin-bottom: 24px; border-bottom: 1px solid var(--border); padding-bottom: 12px;">
                            <button class="btn btn-ghost active" id="deploy-tab-fc" onclick="switchDeployTab('fc')">阿里云 FC</button>
                            <button class="btn btn-ghost" id="deploy-tab-docker" onclick="switchDeployTab('docker')">Docker 仓库</button>
                            <button class="btn btn-ghost" id="deploy-tab-ecs" onclick="switchDeployTab('ecs')">ECS 服务器</button>
                        </div>

                        <!-- FC Section -->
                        <div id="deploy-view-fc">
                            <div id="fc-skill-status" class="mb-4" style="padding: var(--space-3) var(--space-4); border-radius: var(--radius-md); background: var(--bg-secondary);"></div>
                            <div id="fc-accounts-list"></div>
                            <button class="btn btn-secondary mt-4" onclick="addFcAccount()">+ 添加账号</button>
                            <div class="mt-4">
                                <button class="btn btn-primary" onclick="saveFcConfig()">保存 FC 配置</button>
                            </div>
                        </div>

                        <!-- Docker Section -->
                        <div id="deploy-view-docker" class="hidden">
                            <div id="docker-skill-status" class="mb-4" style="padding: var(--space-3) var(--space-4); border-radius: var(--radius-md); background: var(--bg-secondary);"></div>
                            <div id="docker-registries-list"></div>
                            <button class="btn btn-secondary mt-4" onclick="addDockerRegistry()">+ 添加仓库</button>
                            <div class="mt-4">
                                <button class="btn btn-primary" onclick="saveDockerConfig()">保存 Docker 配置</button>
                            </div>
                        </div>

                        <!-- ECS Section -->
                        <div id="deploy-view-ecs" class="hidden">
                            <div id="ecs-skill-status" class="mb-4" style="padding: var(--space-3) var(--space-4); border-radius: var(--radius-md); background: var(--bg-secondary);"></div>
                            <div id="ecs-servers-list"></div>
                            <button class="btn btn-secondary mt-4" onclick="addEcsServer()">+ 添加服务器</button>
                            <div class="mt-4">
                                <button class="btn btn-primary" onclick="saveEcsConfig()">保存 ECS 配置</button>
                            </div>
                        </div>
                    </div>

                    <!-- Tab 6: AGENTS.md Editor -->
                    <div id="tab-6" class="tab-content hidden">
                        <div class="page-header">
<h2 class="page-title">全局指令</h2>
<p class="page-desc">写在这里的内容会作为 AI 的全局指令。比如写「请叫我老板」，就能随时检查 AI 是否还记得你的要求</p>
                        </div>
                        <textarea id="agents-md-editor" class="input" style="height: 400px; font-family: var(--font-mono); resize: vertical;"></textarea>
                        <div class="flex gap-3 mt-4">
                            <button class="btn btn-primary" onclick="saveAgentsMd()">保存</button>
                            <button class="btn btn-secondary" onclick="loadAgentsMd()">重新加载</button>
                        </div>
                    </div>

                    <!-- Tab 7: Category Config (Deprecated) -->
                    <div id="tab-7" class="tab-content hidden">
                        <div class="empty-state">
                            <div class="empty-state-icon"><svg class="icon icon-xl" style="width: 48px; height: 48px;" viewBox="0 0 24 24"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/><polyline points="3.27 6.96 12 12.01 20.73 6.96"/><line x1="12" y1="22.08" x2="12" y2="12"/></svg></div>
                            <h3 class="empty-state-title">功能已迁移</h3>
                            <p class="empty-state-desc mb-4">追加提示词配置已合并到「Agent 模型」页面</p>
                            <button class="btn btn-primary" onclick="switchTab(9)">前往配置 →</button>
                        </div>
                    </div>

                    <!-- Tab 8: Image Service -->
                    <div id="tab-8" class="tab-content hidden">
                        <div class="page-header">
                            <h2 class="page-title">生图服务配置</h2>
                            <p class="page-desc">配置 Stable Diffusion 或其他图像生成服务</p>
                        </div>
                        
                        <div id="image-skill-status" class="mb-4" style="padding: var(--space-3) var(--space-4); border-radius: var(--radius-md); background: var(--bg-secondary); border: 1px solid var(--border-default);"></div>
                        
                        <div class="form-group">
                            <label class="form-label">服务地址</label>
                            <input type="text" class="input" id="image-service-url" placeholder="http://localhost:7860">
                            <p class="form-hint">Stable Diffusion WebUI 的 API 地址</p>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">API Key (可选)</label>
                            <input type="password" class="input" id="image-service-key" placeholder="如果服务需要认证">
                        </div>
                        
                        <button class="btn btn-primary" onclick="saveImageService()">保存配置</button>
                    </div>

                    <!-- Tab 9: Agent Models -->
                    <div id="tab-9" class="tab-content hidden">
                        <div class="page-header">
                            <h2 class="page-title">角色与分工</h2>
                            <p class="page-desc">不同的 AI 角色负责不同的工作，你可以为每个角色指定使用哪个模型</p>
                        </div>
                        
                        <div id="agent-models-loading" class="empty-state">
                            <div class="empty-state-icon animate-spin"><svg class="icon icon-xl" style="width: 48px; height: 48px;" viewBox="0 0 24 24"><path d="M21 12a9 9 0 1 1-6.219-8.56"/></svg></div>
                            <p class="empty-state-desc">加载模型配置...</p>
                        </div>
                        
                        <div id="agent-models-content" style="display: none;">
                            <div style="display: flex; gap: 12px; margin-bottom: 16px;">
                                <button class="btn btn-primary" onclick="saveAgentModels()">保存模型配置</button>
                                <button class="btn btn-secondary" onclick="resetToRecommendedModels()">恢复默认</button>
                            </div>
                            
                            <div class="model-tabs" style="display: flex; gap: 0; margin-bottom: 16px; border-bottom: 1px solid var(--border);">
                                <button id="model-tab-agents" class="model-tab active" onclick="switchModelTab('agents')" style="padding: 10px 24px; background: none; border: none; border-bottom: 2px solid var(--accent); color: var(--text-primary); font-weight: 500; cursor: pointer;">AI 角色</button>
                                <button id="model-tab-categories" class="model-tab" onclick="switchModelTab('categories')" style="padding: 10px 24px; background: none; border: none; border-bottom: 2px solid transparent; color: var(--text-muted); font-weight: 500; cursor: pointer;">任务类型</button>
                            </div>
                            
                            <div id="model-tab-content-agents">
                                <div id="agent-models-list" style="display: grid; gap: var(--space-3);"></div>
                            </div>
                            
                            <div id="model-tab-content-categories" style="display: none;">
                                <div id="category-models-list" style="display: grid; gap: var(--space-3);"></div>
                            </div>
                        </div>
                        
                        <div id="agent-models-error" style="display: none; padding: var(--space-4); background: var(--danger-bg); border-radius: var(--radius-md); color: var(--danger);">
                            <p><svg class="icon" style="color: var(--danger); vertical-align: text-bottom;" viewBox="0 0 24 24"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg> 请先配置模型服务（在"模型服务"页面），然后再配置 Agent 模型。</p>
                        </div>
                    </div>

                    <!-- Tab 10: Backup & Restore -->
                    <div id="tab-10" class="tab-content hidden">
                        <div class="page-header">
                            <h2 class="page-title">备份与恢复</h2>
                            <p class="page-desc">管理配置备份，可随时还原到历史版本</p>
                        </div>
                        
                        <div class="section">
                            <h3 class="section-title">创建备份</h3>
                            <p class="text-muted mb-4">手动创建当前配置的备份快照</p>
                            <button class="btn btn-primary" onclick="createManualBackup()">立即备份</button>
                        </div>
                        
                        <div class="section">
                            <h3 class="section-title">备份历史</h3>
                            <p class="text-muted mb-4">系统会在每次保存配置时自动创建备份，最多保留 10 个版本</p>
                            <div id="backup-list"></div>
                        </div>
                    </div>

                    <!-- Tab 11: User Center (Merged) -->
                    <div id="tab-11" class="tab-content hidden">
                        <div class="page-header">
                            <h2 class="page-title">账号与套餐</h2>
                            <p class="page-desc">登录后即可使用预配置的 AI 模型，无需自己申请 API Key</p>
                        </div>
                        
                        <div id="uc-not-logged-in">
                            <div class="section" style="max-width: 400px; margin: 0 auto;">
                                <div id="uc-auth-form">
                                    <div id="uc-form-register" class="hidden">
                                        <div class="form-group">
                                            <label class="form-label">用户名</label>
                                            <input type="text" class="input" id="uc-reg-username" placeholder="请输入用户名">
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label">邮箱</label>
                                            <input type="email" class="input" id="uc-reg-email" placeholder="请输入邮箱">
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label">邮箱验证码</label>
                                            <div style="display: flex; gap: 8px;">
                                                <input type="text" class="input" id="uc-reg-code" placeholder="请输入验证码" style="flex: 1;">
                                                <button class="btn btn-secondary" id="uc-send-code-btn" onclick="sendVerificationCode()" style="white-space: nowrap;">发送验证码</button>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label">密码</label>
                                            <input type="password" class="input" id="uc-reg-password" placeholder="请输入密码（至少8位）">
                                        </div>
                                        <button class="btn btn-primary" onclick="doRegister()" style="width: 100%; margin-bottom: var(--space-4);">注册</button>
                                        <div style="text-align: center; font-size: 13px; color: var(--text-muted);">
                                            已有账号？<a href="javascript:void(0)" onclick="switchToLogin()" style="color: var(--text-primary); text-decoration: underline;">立即登录</a>
                                        </div>
                                    </div>
                                    
                                    <div id="uc-form-login">
                                        <div class="form-group">
                                            <label class="form-label">用户名</label>
                                            <input type="text" class="input" id="uc-login-username" placeholder="请输入用户名">
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label">密码</label>
                                            <input type="password" class="input" id="uc-login-password" placeholder="请输入密码">
                                        </div>
                                        <button class="btn btn-primary" onclick="doLogin()" style="width: 100%; margin-bottom: var(--space-4);">登录</button>
                                        <div style="text-align: center; font-size: 13px; color: var(--text-muted);">
                                            <span id="uc-switch-account-link">没有账号？<a href="javascript:void(0)" onclick="switchToRegister()" style="color: var(--text-primary); text-decoration: underline;">立即注册</a></span>
                                            <span id="uc-use-other-link" class="hidden"><a href="javascript:void(0)" onclick="switchToRegister()" style="color: var(--text-primary); text-decoration: underline;">使用其他账号</a></span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="card" style="background: var(--bg-tertiary); padding: var(--space-4); cursor: default; margin-top: var(--space-6);">
                                    <h4 style="margin-bottom: var(--space-2); font-size: 14px;">为什么选择托管模式？</h4>
                                    <ul style="color: var(--text-muted); padding-left: var(--space-4); margin: 0; text-align: left; font-size: 13px;">
                                        <li>省去申请多家 API Key 的麻烦</li>
                                        <li>一个账号用遍所有主流模型</li>
                                        <li>按量计费，用多少付多少</li>
                                        <li>一键启用，零配置</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        
                        <div id="uc-logged-in" class="hidden">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-4);">
                                <div>
                                    <span style="color: var(--text-muted);">当前账号：</span>
                                    <span id="uc-username" style="font-weight: var(--font-medium);"></span>
                                </div>
                                <div style="display: flex; gap: var(--space-2);">
                                    <a href="http://8.153.201.122:3000" target="_blank" class="btn btn-ghost btn-sm">管理后台</a>
                                    <button class="btn btn-ghost btn-sm" onclick="doLogout()" style="color: var(--danger);">退出</button>
                                </div>
                            </div>
                            
                            <div style="display: flex; align-items: center; gap: var(--space-4); padding: var(--space-4); background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius); margin-bottom: var(--space-4);">
                                <div style="flex: 1; display: flex; gap: var(--space-6);">
                                    <div>
                                        <div style="font-size: 11px; color: var(--text-muted);">余额</div>
                                        <div id="uc-balance" style="font-size: 20px; font-weight: 600; color: var(--text-primary);">$0.00</div>
                                    </div>
                                    <div>
                                        <div style="font-size: 11px; color: var(--text-muted);">已用</div>
                                        <div id="uc-used-quota" style="font-size: 20px; font-weight: 600; color: var(--accent);">$0.00</div>
                                    </div>
                                    <div>
                                        <div style="font-size: 11px; color: var(--text-muted);">调用</div>
                                        <div id="uc-total-requests" style="font-size: 20px; font-weight: 600; color: var(--success);">0</div>
                                    </div>
                                </div>
                                <div style="display: flex; gap: var(--space-2);">
                                    <button class="btn btn-secondary btn-sm" onclick="showBuyModal()">购买</button>
                                    <button class="btn btn-secondary btn-sm" onclick="showRedeemModal()">兑换</button>
                                    <button class="btn btn-ghost btn-sm" onclick="showInviteModal()">邀请 <span id="uc-aff-count" style="color: var(--warning);">0</span></button>
                                </div>
                            </div>
                            
                            <div style="border-bottom: 1px solid var(--border); margin-bottom: var(--space-4);">
                                <div style="display: flex; gap: var(--space-1);">
                                    <button class="uc-tab active" onclick="switchUcTab('overview')" id="uc-tab-overview">概览</button>
                                    <button class="uc-tab" onclick="switchUcTab('plan')" id="uc-tab-plan">套餐</button>
                                    <button class="uc-tab" onclick="switchUcTab('keys')" id="uc-tab-keys">密钥</button>
                                </div>
                            </div>
                            
                            <div id="uc-panel-overview">
                                <div class="section">
                                    <h3 class="section-title">用量趋势</h3>
                                    <div id="usage-chart" style="height: 160px; background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius); padding: var(--space-4); position: relative;">
                                        <div id="usage-chart-bars" style="display: flex; align-items: flex-end; justify-content: space-around; height: 100px;"></div>
                                        <div id="usage-chart-labels" style="display: flex; justify-content: space-around; margin-top: var(--space-2); font-size: 11px; color: var(--text-muted);"></div>
                                        <div id="usage-chart-empty" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: var(--text-muted);">暂无用量数据</div>
                                    </div>
                                </div>
                                
                                <div class="section">
                                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-3);">
                                        <h3 class="section-title" style="margin: 0; border: none; padding: 0;">消费记录</h3>
                                        <button class="btn btn-ghost btn-sm" onclick="refreshLogs()">刷新</button>
                                    </div>
                                    <table class="table">
                                        <thead>
                                            <tr><th>时间</th><th>模型</th><th>Token</th><th>消耗</th></tr>
                                        </thead>
                                        <tbody id="uc-logs-body">
                                            <tr><td colspan="4" class="text-muted" style="text-align: center; padding: var(--space-6);">暂无消费记录</td></tr>
                                        </tbody>
                                    </table>
                                    <div id="uc-logs-pagination" style="display: flex; justify-content: center; gap: var(--space-2); margin-top: var(--space-4);"></div>
                                </div>
                            </div>
                            
                            <div id="uc-panel-plan" class="hidden">
                                <div class="section">
                                    <h3 class="section-title">选择套餐</h3>
                                    <p style="font-size: 13px; color: var(--text-muted); margin-bottom: var(--space-4);">选择适合您的套餐，享受不同级别的模型服务</p>
                                    <div class="grid-3" id="uc-plan-options">
                                        <div class="card selectable" onclick="selectPlan('free')" id="plan-free" style="padding: var(--space-5);">
                                            <div style="font-weight: 600; margin-bottom: var(--space-2);">免费版</div>
                                            <div style="font-size: 12px; color: var(--text-muted); margin-bottom: var(--space-3);">适合轻度使用</div>
                                            <div style="font-size: 11px; color: var(--text-secondary);">DeepSeek + Gemini Flash</div>
                                        </div>
                                        <div class="card selectable" onclick="selectPlan('pro')" id="plan-pro" style="padding: var(--space-5);">
                                            <div style="font-weight: 600; margin-bottom: var(--space-2);">专业版</div>
                                            <div style="font-size: 12px; color: var(--text-muted); margin-bottom: var(--space-3);">日常开发推荐</div>
                                            <div style="font-size: 11px; color: var(--text-secondary);">Claude Sonnet + Gemini Pro</div>
                                        </div>
                                        <div class="card selectable" onclick="selectPlan('ultimate')" id="plan-ultimate" style="padding: var(--space-5);">
                                            <div style="font-weight: 600; margin-bottom: var(--space-2);">旗舰版</div>
                                            <div style="font-size: 12px; color: var(--text-muted); margin-bottom: var(--space-3);">复杂项目首选</div>
                                            <div style="font-size: 11px; color: var(--text-secondary);">Claude Opus + GPT-5</div>
                                        </div>
                                    </div>
                                    <div id="uc-config-status" style="margin-top: var(--space-4);"></div>
                                </div>
                            </div>
                            
                            <div id="uc-panel-keys" class="hidden">
                                <div class="section">
                                    <h3 class="section-title">API 密钥管理</h3>
                                    <div id="uc-tokens-list" style="margin-bottom: var(--space-4);"></div>
                                    <div style="display: flex; gap: var(--space-3); align-items: center; margin-bottom: var(--space-4);">
                                        <input type="text" class="input" id="new-token-name" placeholder="密钥名称" style="max-width: 200px;">
                                        <button class="btn btn-secondary" onclick="createToken()">创建密钥</button>
                                    </div>
                                </div>
                                <div class="section">
                                    <h3 class="section-title">应用到 OpenCode</h3>
                                    <div style="display: flex; gap: var(--space-3); align-items: center;">
                                        <select class="input" id="uc-token-select" style="max-width: 280px;">
                                            <option value="">-- 选择密钥 --</option>
                                        </select>
                                        <button class="btn btn-primary" onclick="applyConfig()">应用配置</button>
                                        <button class="btn btn-ghost btn-sm" onclick="removeConfig()" style="color: var(--danger);">移除</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div id="uc-modal-overlay" class="hidden" style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 100; display: flex; align-items: center; justify-content: center;" onclick="closeUcModal(event)">
                            <div id="uc-modal-content" style="background: var(--bg-card); border-radius: var(--radius); padding: var(--space-6); min-width: 320px; max-width: 400px;" onclick="event.stopPropagation()">
                                <div id="uc-modal-buy" class="hidden">
                                    <h3 style="margin-bottom: var(--space-4);">购买额度</h3>
                                    <p style="color: var(--text-muted); font-size: 13px;">该功能暂未开放，敬请期待</p>
                                    <button class="btn btn-secondary" onclick="closeUcModal()" style="margin-top: var(--space-4);">关闭</button>
                                </div>
                                <div id="uc-modal-redeem" class="hidden">
                                    <h3 style="margin-bottom: var(--space-4);">兑换码</h3>
                                    <div class="form-group">
                                        <input type="text" class="input" id="redeem-code-input" placeholder="请输入兑换码">
                                    </div>
                                    <div style="display: flex; gap: var(--space-3);">
                                        <button class="btn btn-primary" onclick="redeemCode()">兑换</button>
                                        <button class="btn btn-ghost" onclick="closeUcModal()">取消</button>
                                    </div>
                                </div>
                                <div id="uc-modal-invite" class="hidden">
                                    <h3 style="margin-bottom: var(--space-4);">邀请好友</h3>
                                    <div class="form-group">
                                        <label class="form-label">邀请链接</label>
                                        <div style="display: flex; gap: var(--space-2);">
                                            <input type="text" class="input" id="uc-invite-link" readonly style="font-size: 12px;">
                                            <button class="btn btn-primary btn-sm" onclick="copyInviteLink()">复制</button>
                                        </div>
                                    </div>
                                    <div style="font-size: 13px; color: var(--text-muted); margin-bottom: var(--space-4);">
                                        邀请奖励：<span id="uc-aff-quota" style="color: var(--success);">$0.00</span>
                                    </div>
                                    <button class="btn btn-ghost" onclick="closeUcModal()">关闭</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Tab 12: Feishu Bot -->
                    <div id="tab-12" class="tab-content hidden">
                        <div class="page-header">
                            <h2 class="page-title">飞书机器人</h2>
                            <p class="page-desc">配置并运行飞书机器人，支持消息接收和交互</p>
                        </div>
                        
                        <div class="section">
                            <h3 class="section-title">基本配置</h3>
                            <div class="form-group">
                                <label class="form-label">App ID</label>
                                <input type="text" class="input" id="feishu-app-id" placeholder="cli_...">
                            </div>
                            <div class="form-group">
                                <label class="form-label">App Secret</label>
                                <input type="password" class="input" id="feishu-app-secret" placeholder="••••••••">
                            </div>
                            <div class="form-group">
                                <label class="form-label">OpenCode 工作目录</label>
                                <input type="text" class="input" id="feishu-working-dir" placeholder="/Users/leng/Desktop/codepro/opencraft" value="/Users/leng/Desktop/codepro/opencraft">
                            </div>
                            <div class="checkbox-wrapper mb-4">
                                <input type="checkbox" id="feishu-server-mode" class="checkbox" checked>
                                <label for="feishu-server-mode">使用 Server 模式 (推荐)</label>
                            </div>
                            
                            <details style="margin-bottom: 16px;">
                                <summary style="cursor: pointer; color: var(--text-secondary); font-size: 13px; margin-bottom: 8px;">高级设置</summary>
                                <div style="padding-top: 8px;">
                                    <div class="grid-2">
                                        <div class="form-group">
                                            <label class="form-label">Server Host</label>
                                            <input type="text" class="input" id="feishu-server-host" value="127.0.0.1">
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label">Server Port</label>
                                            <input type="number" class="input" id="feishu-server-port" value="4096">
                                        </div>
                                    </div>
                                </div>
                            </details>
                            
                            <div class="flex gap-3">
                                <button class="btn btn-primary" onclick="saveFeishuConfig()">保存配置</button>
                                <button class="btn btn-secondary" onclick="window.api.openExternal('https://open.feishu.cn/document/home/index')">开发文档</button>
                            </div>
                        </div>
                        
                        <div class="section">
                            <div class="flex justify-between items-center mb-4">
                                <h3 class="section-title" style="margin-bottom: 0; border: none;">运行控制</h3>
                                <div id="feishu-status-indicator" style="display: flex; align-items: center; gap: 6px; font-size: 13px;">
                                    <div style="width: 8px; height: 8px; border-radius: 50%; background: var(--text-muted);"></div>
                                    <span class="text-muted">未运行</span>
                                </div>
                            </div>
                            
                            <div class="flex gap-3 mb-4">
                                <button class="btn btn-primary" id="btn-start-feishu" onclick="startFeishuBot()">
                                    <svg class="icon icon-sm" viewBox="0 0 24 24"><polygon points="5 3 19 12 5 21 5 3"/></svg> 启动机器人
                                </button>
                                <button class="btn btn-secondary" id="btn-stop-feishu" onclick="stopFeishuBot()" disabled>
                                    <svg class="icon icon-sm" viewBox="0 0 24 24"><rect x="6" y="4" width="4" height="16"/><rect x="14" y="4" width="4" height="16"/></svg> 停止机器人
                                </button>
                            </div>
                            
                            <div class="code-block" id="feishu-log-area" style="height: 300px; overflow-y: auto; display: block; white-space: pre-wrap; font-family: var(--font-mono); font-size: 12px; color: var(--text-secondary);">
                                <div class="text-muted">等待启动...</div>
                            </div>
                        </div>
                    </div>

                    <!-- Tab 13: OpenCode Launcher -->
                    <div id="tab-13" class="tab-content hidden">
                        <div class="launcher-container">
                            <div class="launcher-hero">
                                <div class="launcher-logo">
                                    <span class="brand-logo brand-logo-xl"><span class="eye-blink"><span class="eye-open">o</span><span class="eye-shut">&gt;</span></span>_o</span>
                                </div>
                                <h2 class="launcher-title">Super OpenCode</h2>
                                <p class="launcher-subtitle">选一个项目文件夹，开始 AI 编程</p>
                            </div>

                            <div class="launcher-features">
                                <div class="launcher-feature">
                                    <div class="launcher-feature-icon"><svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2a4 4 0 0 1 4 4c0 1.95-1.4 3.58-3.25 3.93"/><path d="M8.24 9.93A4 4 0 0 1 12 2"/><path d="M6 12a6 6 0 0 0 12 0"/><path d="M12 18v4"/><path d="M8 22h8"/></svg></div>
                                    <div class="launcher-feature-body">
                                        <strong>多模型支持</strong>
                                        <span>接入 Claude、GPT、Gemini 等主流模型，按需切换</span>
                                    </div>
                                </div>
                                <div class="launcher-feature">
                                    <div class="launcher-feature-icon"><svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg></div>
                                    <div class="launcher-feature-body">
                                        <strong>内置工具箱</strong>
                                        <span>数据库、云部署、消息通知等开发工具一站配齐</span>
                                    </div>
                                </div>
                                <div class="launcher-feature">
                                    <div class="launcher-feature-icon"><svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="13.5" cy="6.5" r="2.5"/><path d="M17 2H7a5 5 0 0 0-5 5v10a5 5 0 0 0 5 5h10a5 5 0 0 0 5-5V7a5 5 0 0 0-5-5z"/><path d="M2 12h20"/></svg></div>
                                    <div class="launcher-feature-body">
                                        <strong>设计感知</strong>
                                        <span>预设 UI 风格与技术栈，AI 写出的代码自带统一风格</span>
                                    </div>
                                </div>
                                <div class="launcher-feature">
                                    <div class="launcher-feature-icon"><svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg></div>
                                    <div class="launcher-feature-body">
                                        <strong>开箱即用</strong>
                                        <span>完成向导即可使用，无需手动编辑配置文件</span>
                                    </div>
                                </div>
                            </div>

                            <div class="launcher-actions">
                                <button class="btn btn-primary launcher-btn-new" onclick="launcherNewSession()">
                                    <svg class="icon" viewBox="0 0 24 24"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/></svg>
                                    打开项目
                                </button>
                            </div>

                            <div id="launcher-server-status" class="launcher-status hidden">
                                <div class="launcher-status-dot"></div>
                                <span class="launcher-status-text"></span>
                                <button class="btn btn-ghost btn-sm" onclick="launcherReconnect()">重新连接</button>
                            </div>

                            <div class="launcher-section">
                                <div class="launcher-section-header">
                                    <h3>最近会话</h3>
                                    <button class="btn btn-ghost btn-sm" onclick="launcherClearSessions()" id="launcher-clear-btn" style="display:none;">清空</button>
                                </div>
                                <div id="launcher-sessions-list" class="launcher-sessions">
                                    <div class="launcher-empty">
                                        <svg class="icon icon-lg" viewBox="0 0 24 24" style="color: var(--text-muted); margin-bottom: 8px;"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/></svg>
                                        <p>还没有项目记录</p>
                                        <p class="text-sm">点击「打开项目」选择文件夹</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="toast" class="toast"></div>
    </div>


    <script src="app.js"></script>
</body>
</html>
